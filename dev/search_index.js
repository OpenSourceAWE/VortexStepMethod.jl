var documenterSearchIndex = {"docs":
[{"location":"types/","page":"Exported Types","title":"Exported Types","text":"CurrentModule = VortexStepMethod","category":"page"},{"location":"types/#Enumerations","page":"Exported Types","title":"Enumerations","text":"","category":"section"},{"location":"types/","page":"Exported Types","title":"Exported Types","text":"Model\nAeroModel\nPanelDistribution\nInitialGammaDistribution","category":"page"},{"location":"types/#VortexStepMethod.Model","page":"Exported Types","title":"VortexStepMethod.Model","text":"Model VSM LLT\n\nEnumeration of the implemented model types.\n\nElements\n\nVSM: Vortex Step Method\nLLT: Lifting Line Theory\n\n\n\n\n\n","category":"type"},{"location":"types/#VortexStepMethod.AeroModel","page":"Exported Types","title":"VortexStepMethod.AeroModel","text":"AeroModel LEI_AIRFOIL_BREUKELS POLAR_DATA INVISCID\n\nEnumeration of the implemented aerodynamic models.\n\nElements\n\nLEI_AIRFOIL_BREUKELS: Polynom approximation for leading edge inflatable kites\nPOLAR_DATA: Polar data (lookup tables with interpolation)\nINVISCID\n\n\n\n\n\n","category":"type"},{"location":"types/#VortexStepMethod.PanelDistribution","page":"Exported Types","title":"VortexStepMethod.PanelDistribution","text":"PanelDistribution LINEAR COSINE COSINE_VAN_GARREL SPLIT_PROVIDED UNCHANGED\n\nEnumeration of the implemented panel distributions.\n\nElements\n\nLINEAR               # Linear distribution\nCOSINE               # Cosine distribution\nCOSINE_VAN_GARREL  # van Garrel cosine distribution\nSPLIT_PROVIDED     # Split provided sections\nUNCHANGED            # Keep original sections\n\n\n\n\n\n","category":"type"},{"location":"types/#VortexStepMethod.InitialGammaDistribution","page":"Exported Types","title":"VortexStepMethod.InitialGammaDistribution","text":"InitialGammaDistribution ELLIPTIC ZEROS\n\nEnumeration of the implemented initial gamma distributions.\n\nElements\n\nELLIPTIC\nZEROS\n\n\n\n\n\n","category":"type"},{"location":"types/#Basic-Vectors","page":"Exported Types","title":"Basic Vectors","text":"","category":"section"},{"location":"types/","page":"Exported Types","title":"Exported Types","text":"MVec3\nPosVector\nVelVector","category":"page"},{"location":"types/#VortexStepMethod.MVec3","page":"Exported Types","title":"VortexStepMethod.MVec3","text":"const MVec3    = MVector{3, Float64}\n\nBasic 3-dimensional vector, stack allocated, mutable.\n\n\n\n\n\n","category":"type"},{"location":"types/#VortexStepMethod.PosVector","page":"Exported Types","title":"VortexStepMethod.PosVector","text":"const PosVector=Union{MVec3, Vector}\n\nPosition vector, either a MVec3 or a Vector for use in function signatures.\n\n\n\n\n\n","category":"type"},{"location":"types/#VortexStepMethod.VelVector","page":"Exported Types","title":"VortexStepMethod.VelVector","text":"const VelVector=Union{MVec3, Vector}\n\nVelocity vector, either a MVec3 or a Vector for use in function signatures.\n\n\n\n\n\n","category":"type"},{"location":"types/#Wing-Geometry,-Panel-and-Aerodynamics","page":"Exported Types","title":"Wing Geometry, Panel and Aerodynamics","text":"","category":"section"},{"location":"types/","page":"Exported Types","title":"Exported Types","text":"A body is constructed of one or more abstract wings. An abstract wing can be a Wing or a KiteWing.  A Wing/ KiteWing has one or more sections.","category":"page"},{"location":"types/","page":"Exported Types","title":"Exported Types","text":"Section\nSection(LE_point::Vector{Float64}, TE_point::Vector{Float64}, aero_model=nothing, aero_data=nothing)\nWing\nWing(n_panels::Int; spanwise_panel_distribution::PanelDistribution=LINEAR,\n     spanwise_direction::PosVector=MVec3([0.0, 1.0, 0.0]))\nKiteWing\nKiteWing(obj_path, dat_path; alpha=0.0, crease_frac=0.75, wind_vel=10., mass=1.0, \n         n_panels=54, n_sections=n_panels+1, spanwise_panel_distribution=UNCHANGED, \n         spanwise_direction=[0.0, 1.0, 0.0])\nBodyAerodynamics","category":"page"},{"location":"types/#VortexStepMethod.Section","page":"Exported Types","title":"VortexStepMethod.Section","text":"mutable struct Section\n\nRepresents a wing section with leading edge, trailing edge, and aerodynamic properties.\n\nFields\n\nLE_point::MVec3 = zeros(MVec3): Leading edge point coordinates\nTE_point::MVec3 = zeros(MVec3): Trailing edge point coordinates\naero_model::AeroModel = INVISCID: AeroModel\naero_data = nothing: Can be:\nnothing for INVISCID\n(tube_diameter, camber) for LEI_AIRFOIL_BREUKELS\n(alpha_range, cl_vector, cd_vector, cm_vector) for POLAR_DATA\n(alpha_range, beta_range, cl_matrix, cd_matrix, cm_matrix) for POLAR_DATA        \n\n\n\n\n\n","category":"type"},{"location":"types/#VortexStepMethod.Section-2","page":"Exported Types","title":"VortexStepMethod.Section","text":"Section(LE_point::Vector{Float64}, TE_point::Vector{Float64}, \n        aero_model=INVISCID, aero_data=nothing)\n\nConstructor for Section that allows to pass Vectors of Float64 as point coordinates.\n\n\n\n\n\n","category":"type"},{"location":"types/#VortexStepMethod.Wing","page":"Exported Types","title":"VortexStepMethod.Wing","text":"Wing\n\nRepresents a wing composed of multiple sections with aerodynamic properties.\n\nFields\n\nn_panels::Int64: Number of panels in aerodynamic mesh\nspanwise_panel_distribution::PanelDistribution: PanelDistribution\nspanwise_direction::MVec3: Wing span direction vector\nsections::Vector{Section}: Vector of wing sections, see: Section\nrefined_sections::Vector{Section}: Vector of refined wing sections, see: Section\n\n\n\n\n\n","category":"type"},{"location":"types/#VortexStepMethod.Wing-Tuple{Int64}","page":"Exported Types","title":"VortexStepMethod.Wing","text":"Wing(n_panels::Int;\n     spanwise_panel_distribution::PanelDistribution=LINEAR,\n     spanwise_direction::PosVector=MVec3([0.0, 1.0, 0.0]))\n\nConstructor for a Wing struct with default values that initializes the sections  and refined sections as empty arrays.\n\nParameters\n\nn_panels::Int64: Number of panels in aerodynamic mesh\nspanwise_panel_distribution::PanelDistribution = LINEAR: PanelDistribution\nspanwise_direction::MVec3 = MVec3([0.0, 1.0, 0.0]): Wing span direction vector\n\n\n\n\n\n","category":"method"},{"location":"types/#VortexStepMethod.KiteWing","page":"Exported Types","title":"VortexStepMethod.KiteWing","text":"KiteWing\n\nRepresents a curved wing that inherits from Wing with additional geometric properties.\n\nFields\n\nAll fields from Wing:\nn_panels::Int64: Number of panels in aerodynamic mesh\nspanwise_panel_distribution::PanelDistribution: see: PanelDistribution\nspanwise_direction::MVec3: Wing span direction vector\nsections::Vector{Section}: List of wing sections, see: Section\nrefined_sections::Vector{Section}\nAdditional fields:\ncenter_of_mass::Vector{Float64}: Center of mass coordinates\ncircle_center_z::Vector{Float64}: Center of circle coordinates\ngamma_tip::Float64\ninertia_tensor::Matrix{Float64}\nradius::Float64: Radius of curvature\nle_interp::Extrapolation: see: Extrapolation\nte_interp::Extrapolation\narea_interp::Extrapolation\n\n\n\n\n\n","category":"type"},{"location":"types/#VortexStepMethod.KiteWing-Tuple{Any, Any}","page":"Exported Types","title":"VortexStepMethod.KiteWing","text":"KiteWing(obj_path, dat_path; alpha=0.0, crease_frac=0.75, wind_vel=10., mass=1.0, \n         n_panels=54, n_sections=n_panels+1, spanwise_panel_distribution=UNCHANGED, \n         spanwise_direction=[0.0, 1.0, 0.0])\n\nConstructor for a KiteWing that allows to use an .obj and a .dat file as input.\n\nParameters\n\nobj_path: Path to the .obj file used for creating the geometry\ndat_path: Path to the .dat file, a standard format for 2d foil geometry\n\nKeyword Parameters\n\nalpha=0.0: Angle of attack of each segment relative to the x axis [rad]\ncrease_frac=0.75: The x coordinate around which the trailing edge rotates on a normalized 2d foil,                    used in the xfoil polar generation\nwind_vel=10.0: Apparent wind speed in m/s, used in the xfoil polar generation\nmass=1.0: Mass of the wing in kg, used for the inertia calculations \nn_panels=54: Number of panels.\nn_sections=n_panels+1: Number of sections (there is a section on each side of each panel.)\nspanwise_panel_distribution=UNCHANGED: see: PanelDistribution\nspanwise_direction=[0.0, 1.0, 0.0]\n\n\n\n\n\n","category":"method"},{"location":"types/#VortexStepMethod.BodyAerodynamics","page":"Exported Types","title":"VortexStepMethod.BodyAerodynamics","text":"@with_kw mutable struct BodyAerodynamics{P}\n\nMain structure for calculating aerodynamic properties of bodies.\n\nFields\n\npanels::Vector{Panel}: Vector of Panel structs\nwings::Vector{AbstractWing}:   A vector of wings; a body can have multiple wings\n_va::MVec3 = zeros(MVec3):   A vector of the apparent wind speed, see: MVec3\nomega::MVec3 = zeros(MVec3): A vector of the turn rates around the kite body axes\ngamma_distribution::Vector{Float64}=zeros(Float64, P): A vector of the circulation                        of the velocity field; Length: Number of segments. [m²/s]\nalpha_uncorrected::Vector{Float64}=zeros(Float64, P): unclear, please define\nalpha_corrected::Vector{Float64}=zeros(Float64, P):   unclear, please define\nstall_angle_list::Vector{Float64}=zeros(Float64, P):  unclear, please define\nalpha_array::Vector{Float64} = zeros(Float64, P)\nvaarray::Vector{Float64} = zeros(Float64, P)\nworkvectors::NTuple{10,MVec3} = ntuple( -> zeros(MVec3), 10)\nAIC::Array{Float64, 3} = zeros(3, P, P)\n\n\n\n\n\n","category":"type"},{"location":"types/#The-Solver","page":"Exported Types","title":"The Solver","text":"","category":"section"},{"location":"types/","page":"Exported Types","title":"Exported Types","text":"Solver","category":"page"},{"location":"types/#VortexStepMethod.Solver","page":"Exported Types","title":"VortexStepMethod.Solver","text":"Solver\n\nMain solver structure for the Vortex Step Method.\n\nAttributes\n\nGeneral settings\n\naerodynamic_model_type::Model = VSM: The model type, see: Model\ndensity::Float64 = 1.225: Air density [kg/m³] \nmax_iterations::Int64 = 1500\nallowed_error::Float64 = 1e-5: relative error\ntol_reference_error::Float64 = 0.001\nrelaxation_factor::Float64 = 0.03: Relaxation factor for convergence \n\nDamping settings\n\nis_with_artificial_damping::Bool = false: Whether to apply artificial damping\nartificial_damping::NamedTuple{(:k2, :k4), Tuple{Float64, Float64}} = (k2=0.1, k4=0.0): Artificial damping parameters\n\nAdditional settings\n\ntype_initial_gamma_distribution::InitialGammaDistribution = ELLIPTIC: see: InitialGammaDistribution\ncore_radius_fraction::Float64 = 1e-20: \nmu::Float64 = 1.81e-5: Dynamic viscosity [N·s/m²]\nis_only_f_and_gamma_output::Bool = false: Whether to only output f and gamma\n\n\n\n\n\n","category":"type"},{"location":"functions/","page":"Exported Functions","title":"Exported Functions","text":"CurrentModule = VortexStepMethod","category":"page"},{"location":"functions/#Functions-for-creating-the-geometry","page":"Exported Functions","title":"Functions for creating the geometry","text":"","category":"section"},{"location":"functions/","page":"Exported Functions","title":"Exported Functions","text":"add_section!","category":"page"},{"location":"functions/#VortexStepMethod.add_section!","page":"Exported Functions","title":"VortexStepMethod.add_section!","text":"add_section!(wing::Wing, LE_point::PosVector, TE_point::PosVector, aero_model, aero_data)\n\nAdd a new section to the wing.\n\nArguments:\n\nwing::Wing: The Wing to which a section shall be added\nLE_point::PosVector: PosVector of the point on the side of the leading edge\nTE_point::PosVector: PosVector of the point on the side of the trailing edge\naero_model::AeroModel: AeroModel\naero_data: Can be:\nnothing for INVISCID\n(tube_diameter, camber) for LEI_AIRFOIL_BREUKELS\n(alpha_range, cl_vector, cd_vector, cm_vector) for POLAR_DATA\n(alpha_range, beta_range, cl_matrix, cd_matrix, cm_matrix) for POLAR_DATA  \n\n\n\n\n\n","category":"function"},{"location":"functions/#Setting-the-inflow-conditions-and-solving","page":"Exported Functions","title":"Setting the inflow conditions and solving","text":"","category":"section"},{"location":"functions/","page":"Exported Functions","title":"Exported Functions","text":"set_va!\nsolve","category":"page"},{"location":"functions/#VortexStepMethod.set_va!","page":"Exported Functions","title":"VortexStepMethod.set_va!","text":"set_va!(body_aero::BodyAerodynamics, va::VelVector, omega=zeros(MVec3))\n\nSet velocity array and update wake filaments.\n\nArguments\n\nbody_aero::BodyAerodynamics: The BodyAerodynamics struct to modify\nva: Velocity vector of the apparent wind speed           [m/s]\nomega: Turn rate vector around x y and z axis            [rad/s]\n\n\n\n\n\n","category":"function"},{"location":"functions/#VortexStepMethod.solve","page":"Exported Functions","title":"VortexStepMethod.solve","text":"solve(solver::Solver, body_aero::BodyAerodynamics, gamma_distribution=nothing; \n      log=false, reference_point=zeros(MVec3))\n\nMain solving routine for the aerodynamic model. Reference point is in the kite body (KB) frame.\n\nArguments:\n\nsolver::Solver: The solver to use, could be a VSM or LLT solver. See: Solver\nbody_aero::BodyAerodynamics: The aerodynamic body. See: BodyAerodynamics\ngamma_distribution: Initial circulation vector or nothing; Length: Number of segments. [m²/s]\n\nKeyword Arguments:\n\nlog=false: If true, print the number of iterations and other info.\nreference_point=zeros(MVec3)\n\nReturns\n\nA dictionary with the results.\n\n\n\n\n\n","category":"function"},{"location":"functions/#Main-Plotting-Functions","page":"Exported Functions","title":"Main Plotting Functions","text":"","category":"section"},{"location":"functions/","page":"Exported Functions","title":"Exported Functions","text":"The plotting functions are implemented as package extension. This means that they are only available if the package ControlPlots.jl was loaded BEFORE loading VortexStepMethod.jl.","category":"page"},{"location":"functions/","page":"Exported Functions","title":"Exported Functions","text":"plot_geometry\nplot_distribution\nplot_polars","category":"page"},{"location":"functions/#VortexStepMethod.plot_geometry","page":"Exported Functions","title":"VortexStepMethod.plot_geometry","text":"plot_geometry(body_aero::BodyAerodynamics, title; \n              data_type=\".pdf\", save_path=nothing, \n              is_save=false, is_show=false, \n              view_elevation=15, view_azimuth=-120)\n\nPlot wing geometry from different viewpoints and optionally save/show plots.\n\nArguments:\n\nbody_aero: the BodyAerodynamics to plot\ntitle: plot title\n\nKeyword arguments:\n\ndata_type`: string with the file type postfix (default: \".pdf\")\nsave_path: path for saving the graphic (default: nothing)\nis_save: boolean value, indicates if the graphic shall be saved (default: false)\nis_show: boolean value, indicates if the graphic shall be displayed (default: false)\nview_elevation: initial view elevation angle (default: 15) [°]\nview_azimuth: initial view azimuth angle (default: -120) [°]\n\n\n\n\n\n","category":"function"},{"location":"functions/#VortexStepMethod.plot_distribution","page":"Exported Functions","title":"VortexStepMethod.plot_distribution","text":"plot_distribution(y_coordinates_list, results_list, label_list;  \n                  title=\"spanwise_distribution\", data_type=\".pdf\",\n                  save_path=nothing, is_save=false, is_show=true)\n\nPlot spanwise distributions of aerodynamic properties.\n\nArguments\n\ny_coordinates_list: List of spanwise coordinates\nresults_list: List of result dictionaries\nlabel_list: List of labels for different results\n\nKeyword arguments\n\ntitle: Plot title (default: \"spanwise_distribution\")\ndata_type: File extension for saving (default: \".pdf\")\nsave_path: Path to save plots (default: nothing)\nis_save: Whether to save plots (default: false)\nis_show: Whether to display plots (default: true)\n\n\n\n\n\n","category":"function"},{"location":"functions/#VortexStepMethod.plot_polars","page":"Exported Functions","title":"VortexStepMethod.plot_polars","text":"plot_polars(solver_list, body_aero_list, label_list;\n            literature_path_list=String[], \n            angle_range=range(0, 20, 2), angle_type=\"angle_of_attack\", \n            angle_of_attack=0.0, side_slip=0.0, v_a=10.0, \n            title=\"polar\", data_type=\".pdf\", save_path=nothing, \n            is_save=true, is_show=true)\n\nPlot polar data comparing different solvers and configurations.\n\nArguments\n\nsolver_list: List of aerodynamic solvers\nbody_aero_list: List of wing aerodynamics objects\nlabel_list: List of labels for each configuration\n\nKeyword arguments\n\nliterature_path_list: Optional paths to literature data files\nangle_range: Range of angles to analyze [°]\nangle_type: \"angle_of_attack\" or \"side_slip\"; (default: angle_of_attack) \nangle_of_attack: AoA to be used for plotting the polars (default: 0.0) [rad]\nside_slip: side slip angle (default: 0.0) [rad]\nv_a: norm of apparent wind speed (default: 10.0) [m/s]\ntitle: plot title\ndata_type: File extension for saving (default: \".pdf\")\nsave_path: Path to save plots (default: nothing)\nis_save: Whether to save plots (default: true)\nis_show: Whether to display plots (default: true)\n\n\n\n\n\n","category":"function"},{"location":"functions/#Helper-Functions","page":"Exported Functions","title":"Helper Functions","text":"","category":"section"},{"location":"functions/","page":"Exported Functions","title":"Exported Functions","text":"save_plot\nshow_plot","category":"page"},{"location":"functions/#VortexStepMethod.save_plot","page":"Exported Functions","title":"VortexStepMethod.save_plot","text":"save_plot(fig, save_path, title; data_type=\".pdf\")\n\nSave a plot to a file.\n\nArguments\n\nfig: Plots figure object\nsave_path: Path to save the plot\ntitle: Title of the plot\n\nKeyword arguments\n\ndata_type: File extension (default: \".pdf\")\n\n\n\n\n\n","category":"function"},{"location":"functions/#VortexStepMethod.show_plot","page":"Exported Functions","title":"VortexStepMethod.show_plot","text":"show_plot(fig; dpi=130)\n\nDisplay a plot at specified DPI.\n\nArguments\n\nfig: Plots figure object\n\nKeyword arguments\n\ndpi: Dots per inch for the figure (default: 130)\n\n\n\n\n\n","category":"function"},{"location":"private_functions/","page":"Private Functions","title":"Private Functions","text":"CurrentModule = VortexStepMethod","category":"page"},{"location":"private_functions/#Private-Functions","page":"Private Functions","title":"Private Functions","text":"","category":"section"},{"location":"private_functions/","page":"Private Functions","title":"Private Functions","text":"calculate_AIC_matrices!\ninit!","category":"page"},{"location":"private_functions/#VortexStepMethod.calculate_AIC_matrices!","page":"Private Functions","title":"VortexStepMethod.calculate_AIC_matrices!","text":"calculate_AIC_matrices!(body_aero::BodyAerodynamics, model::Model, \n                     core_radius_fraction::Float64,\n                     va_norm_array::Vector{Float64}, \n                     va_unit_array::Matrix{Float64})\n\nCalculate Aerodynamic Influence Coefficient matrices.\n\nSee also: BodyAerodynamics, Model\n\nReturns:     Tuple of (AIC_x, AIC_y, AIC_z) matrices\n\n\n\n\n\n","category":"function"},{"location":"private_functions/#VortexStepMethod.init!","page":"Private Functions","title":"VortexStepMethod.init!","text":"init!(section::Section, LE_point, TE_point, aero_model=nothing, aero_data=nothing)\n\nFunction to update a Section in place.\n\n\n\n\n\n","category":"function"},{"location":"private_types/","page":"Private Types","title":"Private Types","text":"CurrentModule = VortexStepMethod","category":"page"},{"location":"private_types/#Private-Types","page":"Private Types","title":"Private Types","text":"","category":"section"},{"location":"private_types/#Wing-Geometry,-Panel-and-Aerodynamics","page":"Private Types","title":"Wing Geometry, Panel and Aerodynamics","text":"","category":"section"},{"location":"private_types/","page":"Private Types","title":"Private Types","text":"Panel\nPanelProperties\nBoundFilament","category":"page"},{"location":"private_types/#VortexStepMethod.Panel","page":"Private Types","title":"VortexStepMethod.Panel","text":"@with_kw mutable struct Panel\n\nRepresents a panel in a vortex step method simulation. All points and vectors are in the kite body (KB) frame.\n\nFields\n\nTE_point_1::MVec3=zeros(MVec3): First trailing edge point\nLE_point_1::MVec3=zeros(MVec3): First leading edge point\nTE_point_2::MVec3=zeros(MVec3): Second trailing edge point\nLE_point_2::MVec3=zeros(MVec3): Second leading edge point\nchord::Float64=0: Panel chord length\nva::MVec3=zeros(MVec3): Panel velocity\ncorner_points::MMatrix{3, 4, Float64}=zeros(MMatrix{3, 4, Float64}: Panel corner points\naero_model::AeroModel=INVISCID: Aerodynamic model type AeroModel\naero_center::Vector{Float64}: Panel aerodynamic center\ncl_coeffs::Vector{Float64}=zeros(Float64, 3)\ncd_coeffs::Vector{Float64}=zeros(Float64, 3)\ncm_coeffs::Vector{Float64}=zeros(Float64, 3)\ncl_interp::Union{Nothing, I1, I2} = nothing\ncd_interp::Union{Nothing, I1, I2} = nothing\ncm_interp::Union{Nothing, I1, I2} = nothing\ncontrol_point::Vector{MVec3}: Panel control point\nbound_point_1::Vector{MVec3}: First bound point\nbound_point_2::Vector{MVec3}: Second bound point\nx_airf::MVec3=zeros(MVec3): Unit vector perpendicular to chord line\ny_airf::MVec3=zeros(MVec3): Unit vector parallel to chord line\nz_airf::MVec3=zeros(MVec3): Unit vector in spanwise direction\nwidth::Float64=0: Panel width\nfilaments::Tuple{BoundFilament,BoundFilament,BoundFilament,SemiInfiniteFilament,SemiInfiniteFilament} = (       BoundFilament(),       BoundFilament(),       BoundFilament(),       SemiInfiniteFilament(),       SemiInfiniteFilament()   ): Panel filaments, see: BoundFilament\n\n\n\n\n\n","category":"type"},{"location":"private_types/#VortexStepMethod.PanelProperties","page":"Private Types","title":"VortexStepMethod.PanelProperties","text":"PanelProperties\n\nStructure to hold calculated panel properties.\n\nFields\n\naero_centers::Vector{MVec3}\ncontrol_points::Vector{MVec3}\nbound_points_1::Vector{MVec3}\nbound_points_2::Vector{MVec3}\nx_airf::Vector{MVec3}: Vector of unit vectors perpendicular to chord line\ny_airf::Vector{MVec3}: Vector of unit vectors parallel to chord line\nz_airf::Vector{MVec3}: Vector of unit vectors in spanwise direction\n\n\n\n\n\n","category":"type"},{"location":"private_types/#VortexStepMethod.BoundFilament","page":"Private Types","title":"VortexStepMethod.BoundFilament","text":"BoundFilament\n\nRepresents a bound vortex filament defined by two points.\n\nFields\n\nx1::MVec3=zeros(MVec3): First point\nx2::MVec3=zeros(MVec3): Second point\nlength=zero(Float64):   Filament length\nr0::MVec3=zeros(MVec3): Vector from x1 to x2\ninitialized::Bool = false\n\n\n\n\n\n","category":"type"},{"location":"examples/","page":"Examples","title":"Examples","text":"CurrentModule = VortexStepMethod","category":"page"},{"location":"examples/#Rectangular-Wing","page":"Examples","title":"Rectangular Wing","text":"","category":"section"},{"location":"examples/#Wing-Aerodynamics-Analysis-using-Vortex-Step-Method-(VSM)-and-Lift-Line-Theory-(LLT)","page":"Examples","title":"Wing Aerodynamics Analysis using Vortex-Step Method (VSM) and Lift Line Theory (LLT)","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"This example demonstrates the process of setting up and analyzing a wing's aerodynamics using VSM and LLT. We'll cover the following steps:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"Importing necessary libraries.\nDefine the wing parameters\nCreate wing geometry with linear panel distribution and add the wing sections\nInitializing the wing aerodynamics and set the inflow conditions.\nPlotting the geometry\nInitialize solvers for both LLT and VSM methods\nRunning an simulation with both methods\nPlotting distributions\nPlotting polars","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"First, install Julia and launch the Julia REPL as explained in the section Installation. Then, copy and paste to the Julia prompt:","category":"page"},{"location":"examples/#Step-1:-Importing-the-necessary-libraries:","page":"Examples","title":"Step 1: Importing the necessary libraries:","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"using LinearAlgebra\nusing ControlPlots\nusing VortexStepMethod","category":"page"},{"location":"examples/#Step-2:-Define-wing-parameters","page":"Examples","title":"Step 2: Define wing parameters","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"n_panels = 20          # Number of panels\nspan = 20.0            # Wing span [m]\nchord = 1.0            # Chord length [m]\nv_a = 20.0             # Magnitude of inflow velocity [m/s]\ndensity = 1.225        # Air density [kg/m³]\nalpha_deg = 30.0       # Angle of attack [degrees]\nalpha = deg2rad(alpha_deg)","category":"page"},{"location":"examples/#Step-3:-Create-wing-geometry-with-linear-panel-distribution","page":"Examples","title":"Step 3: Create wing geometry with linear panel distribution","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"wing = Wing(n_panels, spanwise_panel_distribution=LINEAR)","category":"page"},{"location":"examples/#Add-wing-sections-defining-only-tip-sections-with-inviscid-airfoil-model","page":"Examples","title":"Add wing sections - defining only tip sections with inviscid airfoil model","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"add_section!(wing, \n    [0.0, span/2, 0.0],    # Left tip LE \n    [chord, span/2, 0.0],  # Left tip TE\n    INVISCID)\nadd_section!(wing, \n    [0.0, -span/2, 0.0],   # Right tip LE\n    [chord, -span/2, 0.0], # Right tip TE\n    INVISCID)","category":"page"},{"location":"examples/#Step-4:-Initialize-aerodynamics","page":"Examples","title":"Step 4: Initialize aerodynamics","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"wa = BodyAerodynamics([wing])","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"We need to pass here an array of wing objects, because a body can have multiple wings.","category":"page"},{"location":"examples/#Set-inflow-conditions","page":"Examples","title":"Set inflow conditions","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"vel_app = [cos(alpha), 0.0, sin(alpha)] .* v_a\nset_va!(wa, vel_app, [0, 0, 0.1])","category":"page"},{"location":"examples/#Step-5:-Plot-the-geometry","page":"Examples","title":"Step 5: Plot the geometry","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"plot_geometry(\n      wa,\n      \"Rectangular_wing_geometry\";\n      data_type=\".pdf\",\n      save_path=\".\",\n      is_save=false,\n      is_show=true,\n)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"You should see a plot like this:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"(Image: Rectangular Wing)","category":"page"},{"location":"examples/#Step-6:-Initialize-solvers-for-both-LLT-and-VSM-methods","page":"Examples","title":"Step 6: Initialize solvers for both LLT and VSM methods","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"llt_solver = Solver(aerodynamic_model_type=LLT)\nvsm_solver = Solver(aerodynamic_model_type=VSM)","category":"page"},{"location":"examples/#Step-7:-Solve-using-both-methods","page":"Examples","title":"Step 7: Solve using both methods","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"results_llt = solve(llt_solver, wa)\nresults_vsm = solve(vsm_solver, wa)","category":"page"},{"location":"examples/#Print-results-comparison","page":"Examples","title":"Print results comparison","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"println(\"\\nLifting Line Theory Results:\")\nprintln(\"CL = $(round(results_llt[\"cl\"], digits=4))\")\nprintln(\"CD = $(round(results_llt[\"cd\"], digits=4))\")\nprintln(\"\\nVortex Step Method Results:\")\nprintln(\"CL = $(round(results_vsm[\"cl\"], digits=4))\")\nprintln(\"CD = $(round(results_vsm[\"cd\"], digits=4))\")\nprintln(\"Projected area = $(round(results_vsm[\"projected_area\"], digits=4)) m²\")","category":"page"},{"location":"examples/#Step-8:-Plot-spanwise-distributions","page":"Examples","title":"Step 8: Plot spanwise distributions","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"y_coordinates = [panel.aero_center[2] for panel in wa.panels]\n\nplot_distribution(\n    [y_coordinates, y_coordinates],\n    [results_vsm, results_llt],\n    [\"VSM\", \"LLT\"],\n    title=\"Spanwise Distributions\"\n)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"You should see a plot like this:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"(Image: Spanwise Distributions)","category":"page"},{"location":"examples/#Step-9:-Plot-polar-curves","page":"Examples","title":"Step 9: Plot polar curves","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"angle_range = range(0, 20, 20)\nplot_polars(\n    [llt_solver, vsm_solver],\n    [wa, wa],\n    [\"LLT\", \"VSM\"];\n    angle_range,\n    angle_type=\"angle_of_attack\",\n    v_a,\n    title=\"Rectangular Wing Polars\"\n)","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"You should see a plot like this:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"(Image: Polars)","category":"page"},{"location":"examples/#More-examples","page":"Examples","title":"More examples","text":"","category":"section"},{"location":"examples/","page":"Examples","title":"Examples","text":"You can execute more examples by typing:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"include(\"examples/menu.jl\")","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"You should see the following menu:","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"Choose function to execute or `q` to quit: \n > rectangular_wing = include(\"rectangular_wing.jl\")\n   ram_air_kite = include(\"ram_air_kite.jl\")\n   stall_model = include(\"stall_model.jl\")\n   bench = include(\"bench.jl\")\n   cleanup = include(\"cleanup.jl\")\n   quit","category":"page"},{"location":"examples/","page":"Examples","title":"Examples","text":"You can select one of the examples using the <UP> and <DOWN> keys. Press <ENTER> to run the selected example.","category":"page"},{"location":"explanation/#How-the-model-works","page":"How it works","title":"How the model works","text":"","category":"section"},{"location":"explanation/","page":"How it works","title":"How it works","text":"Flowchart that describes how this software works:","category":"page"},{"location":"explanation/","page":"How it works","title":"How it works","text":"(Image: Flowchart)","category":"page"},{"location":"explanation/","page":"How it works","title":"How it works","text":"AIC: Aerodynamic Influence Coefficient (AIC). The AIC matrix represents the relationship between the induced velocities or pressures on aerodynamic surfaces and the circulation strength or modal deformations of the lifting surfaces.","category":"page"},{"location":"explanation/#References:","page":"How it works","title":"References:","text":"","category":"section"},{"location":"explanation/","page":"How it works","title":"How it works","text":"Fast Aero-Structural Model of a Leading-Edge Inflatable Kite by Oriol Canon, Mac Gaunaa and Roland Schmehl, Energies 2023 16(7),   doi: 10.3390/en16073061","category":"page"},{"location":"explanation/","page":"How it works","title":"How it works","text":"For extensions of the original work see: News.md.","category":"page"},{"location":"glossary/","page":"-","title":"-","text":"First Term   This is the definition of the first term.","category":"page"},{"location":"glossary/","page":"-","title":"-","text":"Second Term   This is one definition of the second term. This is another definition of the second term.","category":"page"},{"location":"","page":"Home","title":"Home","text":"CurrentModule = VortexStepMethod","category":"page"},{"location":"#Aerodynamic-models-of-3D-wings-using-the-Vortex-Step-Method","page":"Home","title":"Aerodynamic models of 3D wings using the Vortex Step Method","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"The Vortex Step Method (VSM) is an enhanced lifting line method that improves upon the classic approach by solving the circulation system at the three-quarter chord position, among the most important details. This adjustment allows for more accurate calculations of lift and drag forces, particularly addressing the shortcomings in induced drag prediction.  VSM is further refined by coupling it with 2D viscous airfoil polars, making it well-suited for complex geometries,  including low aspect ratio wings, as well as configurations with sweep, dihedral, and anhedral angles.","category":"page"},{"location":"","page":"Home","title":"Home","text":"The software presented here includes a couple of examples: a rectangular wing, a leading-edge inflatable kite and a ram-air kite.","category":"page"},{"location":"","page":"Home","title":"Home","text":"This package was translated from the Python code version 1.0.0 available at https://github.com/ocayon/Vortex-Step-Method with some extensions as documented in News.md.","category":"page"},{"location":"#Installation","page":"Home","title":"Installation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Install Julia 1.10 or later,  if you haven't already. On Linux, make sure that Python3, Matplotlib and LaTeX are installed:","category":"page"},{"location":"","page":"Home","title":"Home","text":"sudo apt install python3-matplotlib\nsudo apt install texlive-full texlive-fonts-extra cm-super","category":"page"},{"location":"","page":"Home","title":"Home","text":"Furthermore, the packages TestEnv and ControlPlots must be installed globally:","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia -e 'using Pkg; Pkg.add(\"TestEnv\"); Pkg.add(\"ControlPlots\")'","category":"page"},{"location":"","page":"Home","title":"Home","text":"Before installing this software it is suggested to create a new project, for example like this:","category":"page"},{"location":"","page":"Home","title":"Home","text":"mkdir test\ncd test\njulia --project=.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Then add VortexStepMethod from  Julia's package manager, by typing:","category":"page"},{"location":"","page":"Home","title":"Home","text":"using Pkg\npkg\"add VortexStepMethod\"","category":"page"},{"location":"","page":"Home","title":"Home","text":"at the Julia prompt. You can run the unit tests with the command:","category":"page"},{"location":"","page":"Home","title":"Home","text":"pkg\"test VortexStepMethod\"","category":"page"},{"location":"#Running-the-examples","page":"Home","title":"Running the examples","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"If you have git installed, check out this repo because it makes it easier to understand the code:","category":"page"},{"location":"","page":"Home","title":"Home","text":"mkdir repos\ncd repos\ngit clone https://github.com/Albatross-Kite-Transport/VortexStepMethod.jl\ncd VortexStepMethod.jl","category":"page"},{"location":"","page":"Home","title":"Home","text":"You can launch Julia with:","category":"page"},{"location":"","page":"Home","title":"Home","text":"julia --project","category":"page"},{"location":"","page":"Home","title":"Home","text":"or with:","category":"page"},{"location":"","page":"Home","title":"Home","text":"./bin/run_julia","category":"page"},{"location":"","page":"Home","title":"Home","text":"In Julia, first update the packages:","category":"page"},{"location":"","page":"Home","title":"Home","text":"using Pkg\nPkg.update()","category":"page"},{"location":"","page":"Home","title":"Home","text":"and then you can display a menu with the available examples:","category":"page"},{"location":"","page":"Home","title":"Home","text":"include(\"examples/menu.jl\")","category":"page"},{"location":"","page":"Home","title":"Home","text":"To browse the code, it is suggested to use VSCode with the Julia plugin.","category":"page"},{"location":"#Input","page":"Home","title":"Input","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Three kinds of input data is needed:","category":"page"},{"location":"","page":"Home","title":"Home","text":"The wing geometry, defined by section:\nfor the rectangualar wing two sections, two points in CAD reference frame + polars   (three different options to provide them) per section\nkite wing: model of polars included, n sections to define\nThe airflow and turn rate:\nv_app vector and omega (turn rate) vector in Kite Body (KB) reference frame\nThe configuration:\nhow many panels   –> two sections make a panel.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Apart from the wing geometry there is no input file yet, the input has to be defined in the code.","category":"page"},{"location":"#Example-for-defining-the-required-input:","page":"Home","title":"Example for defining the required input:","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"\n# Step 1: Define wing parameters\nn_panels = 20          # Number of panels\nspan = 20.0            # Wing span [m]\nchord = 1.0            # Chord length [m]\nv_a = 20.0             # Magnitude of inflow velocity [m/s]\ndensity = 1.225        # Air density [kg/m³]\nalpha_deg = 30.0       # Angle of attack [degrees]\nalpha = deg2rad(alpha_deg)\n\n# Step 2: Create wing geometry with linear panel distribution\nwing = Wing(n_panels, spanwise_panel_distribution=LINEAR)\n\n# Add wing sections - defining only tip sections with inviscid airfoil model\nadd_section!(wing, \n    [0.0, span/2, 0.0],    # Left tip LE \n    [chord, span/2, 0.0],  # Left tip TE\n    INVISCID)\nadd_section!(wing, \n    [0.0, -span/2, 0.0],   # Right tip LE\n    [chord, -span/2, 0.0], # Right tip TE\n    INVISCID)\n\n# Step 3: Initialize aerodynamics\nwa = BodyAerodynamics([wing])\n\n# Set inflow conditions\nvel_app = [cos(alpha), 0.0, sin(alpha)] .* v_a\nset_va!(wa, vel_app)","category":"page"},{"location":"","page":"Home","title":"Home","text":"It is possible to import the wing geometry using an .obj file as shown in the example ram_air_kite.jl.","category":"page"},{"location":"","page":"Home","title":"Home","text":"Surfplan files can be converted to an input for VortexStepMethod.jl using the SurfplanAdapter.","category":"page"},{"location":"#Output","page":"Home","title":"Output","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"CL, CD, CS (side force coefficient)\nthe spanwise distribution of forces   –> moment coefficients (will be implemented in release 1.1) ","category":"page"},{"location":"#Citation","page":"Home","title":"Citation","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"If you use this project in your research, please consider citing it.  Citation details can be found in the CITATION.cff file included in this repository.","category":"page"},{"location":"#License","page":"Home","title":"License","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"This project is licensed under the MIT License - see the LICENSE file for details.","category":"page"},{"location":"#WAIVER","page":"Home","title":"WAIVER","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Technische Universiteit Delft hereby disclaims all copyright interest in the package “VortexStepMethod.jl” written by the Author(s).","category":"page"},{"location":"","page":"Home","title":"Home","text":"Prof.dr. H.G.C. (Henri) Werij, Dean of Aerospace Engineering","category":"page"},{"location":"#Copyright","page":"Home","title":"Copyright","text":"","category":"section"},{"location":"","page":"Home","title":"Home","text":"Copyright (c) 2022 Oriol Cayon","category":"page"},{"location":"","page":"Home","title":"Home","text":"Copyright (c) 2024 Oriol Cayon, Jelle Poland, TU Delft","category":"page"},{"location":"","page":"Home","title":"Home","text":"Copyright (c) 2025 Oriol Cayon, Jelle Poland, Bart van de Lint, Uwe Fechner","category":"page"},{"location":"reference_frames/#Reference-Frames","page":"Reference Frames","title":"Reference Frames","text":"","category":"section"},{"location":"reference_frames/#Introduction","page":"Reference Frames","title":"Introduction","text":"","category":"section"},{"location":"reference_frames/","page":"Reference Frames","title":"Reference Frames","text":"Reference frames are needed for following purposes:","category":"page"},{"location":"reference_frames/","page":"Reference Frames","title":"Reference Frames","text":"for creating a CAD model of the wing (or the wings)\nfor defining the apparent wind speed vector v_a\nfor calculating the lift and drag and side force coefficients\nfor calculating the resulting forces and moments","category":"page"},{"location":"reference_frames/#CAD-reference-frame-(CAD)","page":"Reference Frames","title":"CAD reference frame (CAD)","text":"","category":"section"},{"location":"reference_frames/","page":"Reference Frames","title":"Reference Frames","text":"A geometric model is always created using the CAD reference frame. It can have any origin (with respect to the kite), but usually either the center of gravity of the body or the bridle point/ Kite Control Unit is used. ","category":"page"},{"location":"reference_frames/","page":"Reference Frames","title":"Reference Frames","text":"Y defined spanwise, looking at the kite from the front (so seeing the LE first) the front left is positive.\nX is defined chord wise, from LE to TE, positive.\nZ is defined as positive upwards.","category":"page"},{"location":"reference_frames/#Kite-Body-reference-frame-(KB)","page":"Reference Frames","title":"Kite Body reference frame (KB)","text":"","category":"section"},{"location":"reference_frames/","page":"Reference Frames","title":"Reference Frames","text":"This is a body-fixed reference frame.","category":"page"},{"location":"reference_frames/","page":"Reference Frames","title":"Reference Frames","text":"Y defined spanwise, looking at the kite from the front (so seeing the LE first) the front left is positive.\nX is defined chord wise, from LE to TE, positive.\nZ is defined as the cross product of Y and X","category":"page"},{"location":"reference_frames/","page":"Reference Frames","title":"Reference Frames","text":"The origin of the kite reference frame can be defined by the user by calling the function init_kb(origin::MVec3) where the origin must be defined in the CAD reference frame.","category":"page"},{"location":"reference_frames/","page":"Reference Frames","title":"Reference Frames","text":"This reference frame is different from the kite reference frame K used in KiteModels.jl and KiteUtils.jl.","category":"page"},{"location":"reference_frames/#The-turn-rates","page":"Reference Frames","title":"The turn rates","text":"","category":"section"},{"location":"reference_frames/","page":"Reference Frames","title":"Reference Frames","text":"The turn rates mathrmomega = mathrmomega_x mathrmomega_y mathrmomega_z are defined in the KB reference frame. The unit of the components is mathrmradmathrms^-1.","category":"page"},{"location":"reference_frames/#Input-and-output","page":"Reference Frames","title":"Input and output","text":"","category":"section"},{"location":"reference_frames/","page":"Reference Frames","title":"Reference Frames","text":"when running a simulation, the turnrate of the kite must be provided on each time step\nthe apparent wind speed vector v_a is defined in the KB reference frame\nthe resulting forces are defined in the KB reference frame\nthe CL, CD, CS and the resulting moments and moment coefficients are defined in the KB reference frame","category":"page"}]
}
